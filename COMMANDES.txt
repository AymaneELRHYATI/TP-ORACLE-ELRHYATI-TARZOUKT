2- CREATE USER ADIA IDENTIFIED BY ABDOU;
3- GRANT CREATE SESSION TO ADIA;
   GRANT CREATE TABLE TO ADIA;
   ALTER SESSION SET SESSION_TRRUE = TRUE;
6- CREATE TABLE PRET(
		NPRET VARCHAR2(10) PRIMARY KEY,
		NMEMBRE  varchar2(10),
		NLIVRE varchar2(10),
		DATEPRET date,
		DATERETOUR date,
		CONSTRAINT NMEMBRE FOREIGN KEY (NMEMBE) REFERENCES MEMBRE(NMEMBRE),
		CONSTRAINT NLIVRE FOREIGN KEY (NLIVRE) REFERENCES LIVRE(NLIVRE)
	);

	CREATE TABLE LIVRE(
		NLIVRE varchar2(10) PRIMARY KEY,
		TITRE varchar2(10),
		PRIX number(8,2),
		NBPAGES number(4),
		ANNEE number(4)
	);

	CREATE TABLE AUTEUR(
		NAUTEUR varchar2(10) PRIMARY KEY,
		NOM varchar2(20),
		PRENOM varchar2(20),
		NATIONNALITE varchar2(30)
	);

	CREATE TABLE POSSEDE(
		NLIVRE varchar2(10),
		NAUTEUR varchar2(10),
		CONSTRAINT PK_POSSED PRIMARY KEY(NLIVRE,NAUTEUR),
		CONSTRAINT FK_NLIVRE FOREIGN KEY (NLIVRE) REFERENCES LIVRE (NLIVRE),
		CONSTRAINT FK_NAUTEUR FOREIGN KEY (NAUTEUR) REFERENCES LIVRE (NAUTEUR),
	);

	CREATE TABLE MEMBRE(
		NMEMBRE varchar2(10) PRIMARY KEY,
		NOM varchar2(10),
		PRENOM varchar2(10),
		DATEINSCRIPTION DATE
	);


7- SELECT object_name, object_type
	FROM user_objects;

8- ALTER TABLE MEMBRE
	ADD email VARCHAR2(50);

9- ALTER TABLE MEMBRE
	ADD adresse VARCHAR2(100);

10- ALTER TABLE PRET
	DROP CONSTRAINT FK_NMEMBRE;

	ALTER TABLE PRET
	DROP CONSTRAINT FK_NLIVRE;
 
11-ALTER TABLE PRET
	ADD CONSTRAINT fk_Nmembre FOREIGN KEY (Nmembre) REFERENCES MEMBRE(Nmembre);

	ALTER TABLE PRET
	ADD CONSTRAINT fk_Nlivre FOREIGN KEY (Nlivre) REFERENCES LIVRE(Nlivre);

12- ALTER TABLE PRET
	ADD CONSTRAINT pk_NPret PRIMARY KEY (NPRET);

13- ALTER TABLE LIVRE
	ADD Nauteur VARCHAR2(10);


	ALTER TABLE LIVRE
	ADD CONSTRAINT fk_Nauteur FOREIGN KEY (Nauteur) REFERENCES AUTEUR(Nauteur);

14- DROP TABLE POSSEDE;

15- ALTER TABLE LIVRE
	ADD CONSTRAINT ck_titre CHECK (titre IS NOT NULL);

16- ALTER TABLE LIVRE
	ADD langue VARCHAR2(50),
    NbreExemplaires NUMBER;

17-ALTER TABLE MEMBRE
	ADD CONSTRAINT uq_nom_prenom UNIQUE (nom, prenom);

18-CREATE INDEX idx_Pret_IdPret ON prêt(NPRET);
   CREATE INDEX idx_Pret_Nmembre ON prêt(Nmembre);

19-CREATE INDEX NOM ON auteur(nom);

   CREATE INDEX nom_prenom ON membre(nom, prenom);

   CREATE INDEX titre ON livre(titre);

20- SELECT index_name, table_name
	FROM user_indexes;


21- DROP INDEX idx_Auteur_nom;

22- ALTER TABLE DATE_RETOUR
	ADD CONSTRAINT check_dateRetour_datePret CHECK (dateRetour >= datePret);

23-SELECT constraint_name, constraint_type, table_name
   FROM user_constraints;


